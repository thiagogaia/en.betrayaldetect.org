<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CheatfinderPRO</title>
    
    <script
        src="https://cdn.utmify.com.br/scripts/utms/latest.js"
        data-utmify-prevent-xcod-sck
        data-utmify-prevent-subids
        async
        defer
    ></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        body {
            background: #f0f2f5;
        }

        .top-bar {
            background: #075e54;
            color: white;
            text-align: center;
            padding: 15px;
            font-size: 18px;
            font-weight: 500;
        }

        .analysis-section {
            background: white;
            border-radius: 25px;
            margin: 20px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .analysis-title {
            color: #075e54;
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .analysis-subtitle {
            color: #667781;
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .warning-bar {
            background: #25D366;
            color: white;
            padding: 15px 20px;
            margin: 20px;
            border-radius: 25px;
            text-align: center;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .warning-bar::before {
            content: "⚠️";
        }

        .interaction-message {
            text-align: center;
            padding: 20px;
            font-size: 18px;
            color: #111;
            line-height: 1.4;
        }

        .chat-preview {
            margin: 20px;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .chat-preview img {
            width: 100%;
            height: auto;
            display: block;
        }

        .chat-message {
            text-align: center;
            padding: 20px;
            font-size: 18px;
            color: #075e54;
            font-weight: 500;
            line-height: 1.4;
        }

        .location-section {
            margin: 20px;
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .location-text {
            text-align: center;
            color: #075e54;
            font-size: 18px;
            font-weight: 500;
            margin-bottom: 15px;
        }

        .map-container {
            width: 100%;
            height: 300px;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            background: #f0f2f5;
            margin: 10px 0;
        }

        #map {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }

        .alert-message {
            background: #ff4444;
            color: white;
            margin: 20px;
            padding: 15px 20px;
            border-radius: 12px;
            text-align: center;
            font-size: 16px;
            font-weight: 500;
            box-shadow: 0 2px 5px rgba(255,68,68,0.2);
            line-height: 1.4;
        }

        .grupo-preview {
            margin: 20px;
            text-align: center;
            margin-top: 80px;
        }

        .grupo-preview img {
            width: 25%;
            height: auto;
            mix-blend-mode: multiply;
            display: inline-block;
        }

        .feature-text {
            margin: 20px;
            text-align: center;
            color: #075e54;
            font-size: 18px;
            font-weight: 500;
            line-height: 1.4;
            padding: 15px 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .warning-alert {
            position: relative;
            padding-top: 30px;
            margin: 20px 0;
            width: 100%;
        }

        .warning-alert .alert-circle {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 60px;
            background: #ff4444;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2;
        }

        .warning-alert .alert-circle span {
            color: white;
            font-size: 24px;
        }

        .warning-alert .message {
            background: #ff4444;
            color: white;
            padding: 30px 20px 20px;
            border-radius: 50px;
            font-size: 18px;
            text-align: center;
            font-weight: 500;
            margin: 0 40px 0 40px;
        }

        /* Base comum para todos os cards */
        .card-base {
            background: #0F3325;
            margin: 40px auto;
            padding: 25px;
            border-radius: 16px;
            width: calc(100% - 40px);
            max-width: 700px;
            box-sizing: border-box;
            position: relative;
            
        }

        /* Estilo para o card de conversas escondidas */
        .photo-alert {
            composes: card-base;
            padding-top: 60px;
        }

        .photo-alert .icon {
            position: absolute;
            top: -30px;
            left: 30px;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: #0F3325;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .photo-alert .icon img {
            width: 60%;
            height: 60%;
            object-fit: contain;
            display: block;
        }

        .photo-alert .content {
            text-align: left;
            padding-left: 15px;
        }

        .photo-alert .title {
            color: #4CAF50;
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .photo-alert .subtitle {
            color: white;
            font-size: 16px;
            opacity: 0.9;
        }

        /* Estilo para o card de bônus */
        .bonus-section {
            composes: card-base;
            text-align: center;
        }

        .bonus-section .icon {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 60px;
            background: #0F8C3D;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .bonus-section .icon img {
            width: 60%;
            height: 60%;
            object-fit: contain;
        }

        .bonus-section .title {
            color: #4CAF50;
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 15px;
            margin-top: 15px;
        }

        .bonus-section .text {
            color: white;
            font-size: 16px;
            line-height: 1.5;
            margin-bottom: 10px;
        }

        .bonus-section .highlight {
            color: #4CAF50;
            font-weight: 600;
        }

        #mensagem-acesso-limitado {
            background: #0F3325;
            margin: 20px auto;
            padding: 25px;
            border-radius: 16px;
            width: calc(100% - 40px);
            max-width: 700px;
            box-sizing: border-box;
            position: relative;
        }

        #spotsField{
            background: #ff4444;
            margin: 20px auto;
            padding: 25px;
            border-radius: 16px;
            width: calc(100% - 40px);
            max-width: 700px;
            box-sizing: border-box;
            position: relative;
            color: white;
            font-size: 16px;
            line-height: 1.4;
            text-align: center;
        }

        /* Estilo para o card de acesso limitado */
        .limited-access {
            margin: 0;
            padding: 0;
            width: 100%;
        }

        .limited-access .message {
            composes: card-base;
            background: #0F3325;
            color: white;
            font-size: 16px;
            line-height: 1.4;
            text-align: center;
        }

        .limited-access .highlight {
            color: #4CAF50;
            font-weight: 600;
        }

        /* Estilos de texto */
        .highlight {
            color: #4CAF50;
            font-weight: 600;
        }

        .pricing-section {
            background: #0F3325;
            margin: 20px;
            padding: 25px;
            border-radius: 16px;
        }

        .pricing-section .title {
            color: white;
            font-size: 24px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 20px;
        }

        .pricing-section .old-price {
            color: #FF3B30;
            text-decoration: line-through;
            font-size: 18px;
            text-align: center;
            margin-bottom: 5px;
        }

        .pricing-section .price {
            font-size: 48px;
            font-weight: 700;
            color: white;
            text-align: center;
            margin-bottom: 5px;
        }

        .pricing-section .payment-info {
            color: #999;
            text-align: center;
            margin-bottom: 30px;
        }

        .pricing-section .feature-list {
            margin-bottom: 30px;
        }

        .pricing-section .feature-item {
            display: flex;
            align-items: center;
            gap: 15px;
            color: white;
            margin-bottom: 15px;
            font-size: 16px;
            line-height: 1.4;
        }

        .pricing-section .feature-item .check {
            width: 24px;
            height: 24px;
            background: #0F8C3D;
            border-radius: 50%;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .pricing-section .feature-item .highlight {
            color: #4CAF50;
            font-weight: 600;
        }

        .pricing-section .cta-button {
            background: #00E676;
            color: #0F3325;
            text-align: center;
            padding: 15px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            text-decoration: none;
            margin-bottom: 30px;
        }

        .guarantee-section {
            margin: 20px;
            text-align: center;
            padding: 20px;
        }

        .guarantee-section .seal {
            width: 200px;
            margin: 0 auto 30px;
        }

        .guarantee-section .text {
            color: #1B1B1B;
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 25px;
        }

        .guarantee-section .contact {
            color: #1B1B1B;
            font-size: 16px;
            margin-bottom: 15px;
        }

        .guarantee-section .service {
            color: #1B1B1B;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .guarantee-section .email {
            color: #0F8C3D;
            font-weight: 500;
        }

        .chat-messages {
            padding: 15px;
            background: #e5ddd5;
            border-radius: 8px;
        }
        
        .message {
            background: #dcf8c6;
            padding: 8px 12px;
            border-radius: 8px;
            margin: 5px 0;
            max-width: 80%;
            margin-left: auto;
            color: #303030;
            font-size: 14px;
            position: relative;
        }
        
        .security-message {
            background: #dcf8c6;
            color: #1b1b1b;
            padding: 15px 20px;
            border-radius: 12px;
            font-size: 16px;
            text-align: center;
            margin: 20px;
            line-height: 1.4;
        }

        .seats-available {
            background: #ff4444;
            color: white;
            padding: 15px 20px;
            border-radius: 12px;
            font-size: 16px;
            text-align: center;
            margin: 20px;
            font-weight: 500;
        }

        .seats-available .date {
            font-size: 14px;
            opacity: 0.9;
            margin-top: 5px;
        }
    </style>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
</head>
<body>
    <div class="top-bar">
        ⚠️ Do not leave this page, otherwise you will lose access to the report
    </div>

    <div class="analysis-section">
        <img src="../assets/images/placeholder-profile.png" alt="Profile Picture" id="whatsappProfilePicStep3" style="width: 80px; height: 80px; border-radius: 50%; margin-bottom: 15px; object-fit: cover; border: 3px solid #006B54;">
        <div class="analysis-title">Analysis Complete</div>
        <div class="analysis-subtitle">PREVIEW OF DATA FOUND</div>
    </div>

    <div class="warning-bar">
        Your relationship could be in danger!
    </div>

    <div class="interaction-message" id="locationMessage">
        This person has detected frequently communicates with someone located near your region.
    </div>

    <div class="chat-preview">
        <img src="../assets/images/chat-preview1.webp" alt="Chat Preview">
    </div>

    <div class="chat-message">
        We have detected suspicious messages on WhatsApp.
    </div>

    <div class="location-section">
        <div class="location-text">Detectamos que esta pessoa esteve recentemente neste local...</div>
        <div class="map-container">
            <div id="map"></div>
        </div>
    </div>

    <div class="alert-message">
         As long as the monitored person's phone is turned on, you will know their location.
    </div>

    <div class="grupo-preview">
        <img src="../assets/images/grupo.webp" alt="Grupo Preview">
    </div>

    <div class="feature-text">
         Gain access to single-view messages sent and received by this person.
    </div>

    <div class="chat-preview">
        <img src="../assets/images/chat-preview2.webp" alt="Chat Preview 2">
    </div>

    <div class="feature-text">
        Some media files, such as photos and videos, were found in suspicious conversations...
    </div>

    <div class="chat-preview">
        <img src="../assets/images/print-confidencial.webp" alt="Chat Preview 4">
    </div>

    <div class="warning-alert">
        <div class="alert-circle">
            <span>⚠️</span>
        </div>
        <div class="message">
            Access the app to view uncensored photos...
        </div>
    </div>

    <div style="width:100%;max-width:700px;margin:40px auto 0 auto;display:flex;flex-direction:column;align-items:center;">
        <img src="../assets/images/bonus1.png" alt="Bonus 1" style="width:100%;max-width:420px;display:block;border-radius:16px;box-shadow:0 2px 12px rgba(0,0,0,0.10);margin-bottom:32px;">
        <img src="../assets/images/bonus2.png" alt="Bonus 2" style="width:100%;max-width:420px;display:block;border-radius:16px;box-shadow:0 2px 12px rgba(0,0,0,0.10);margin-bottom:32px;">
        <img src="../assets/images/bonus3.png" alt="Bonus 3" style="width:100%;max-width:420px;display:block;border-radius:16px;box-shadow:0 2px 12px rgba(0,0,0,0.10);">
    </div>

    <div class="bonus-section card-base">
        <div class="icon">
            <img src="../assets/images/icone-detetive.webp" alt="Detetive">
        </div>
        <div class="title">EXCLUSIVE BONUS</div>
        <div class="text">
            Our Recovery System will break WhatsApp encryption to retrieve all deleted messages <span class="highlight">from the past 30 days.</span>
        </div>
    </div>

    <div class="limited-access">
        <div class="message card-base" id="mensagem-acesso-limitado">
            For <span class="highlight">security reasons,</span> new access will be interrupted as soon as our maximum capcity is reached.
        </div>
        <div class="spots" id="spotsField">
            Only 19 seats available for today <br>(<span id="currentDate"></span>)
        </div>
    </div>

    <div class="pricing-section">
        <div class="title">EXCLUSIVE DISCOUNT</div>
        <div class="old-price">from $299 to</div>
        <div class="price">$29.00</div>
        <div class="payment-info">One-time payment.</div>

        <div class="feature-list">
            <div class="feature-item">
                <div class="check">✓</div>
                <div>This person recently communicated with <span class="highlight" id="location-feature">3 people from (IP)</span>.</div>
            </div>
            <div class="feature-item">
                <div class="check">✓</div>
                <div>Our AI detected a suspicious message.</div>
            </div>
            <div class="feature-item">
                <div class="check">✓</div>
                <div>It was detected that this person <span class="highlight">viewed the status</span> of contact ******* 6 times today.</div>
            </div>
            <div class="feature-item">
                <div class="check"></div>
                <div>It was detected that this person <span class="highlight">archived 2 conversations</span> yesterday.</div>
            </div>
        </div>

        <a href="https://app.monetizze.com.br/r/AGS25420584?u=c&pl=EM337909" class="cta-button">
            BUY NOW
            <span></span>
        </a>
    </div>

    <div class="guarantee-section">
        <img src="../assets/images/selo-garantia-30d.webp" alt="Garantia de 30 dias" class="seal">
        
        <div class="text">
            In accordance with U.S. law, we are required to refund you if you are not satisfied with the application within 14 days. However, being fully confident that our application works perfectly, we have extended this guarantee to 30 days. This means you have twice the time to test the application and see the results for yourself – with no risk. If, for any reason, you are not satisfied, we will refund you  no questions asked.
        </div>

        <div class="contact">If you have any questions regarding refunds, contact:</div>
        <div class="service">Customer Service</div>
        <div class="email"><a href="mailto:contatto@segretodetect.com" class="__cf_email__" data-cfemail="55363d303421333c3b3130277b333424153238343c397b363a38">contatto@segretodetect.com</a></div>
    </div>

    <!-- <script data-cfasync="false" src="../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script> -->
    <script>
    document.addEventListener("DOMContentLoaded", async function() {
        // --- INÍCIO DA NOVA LÓGICA DO MAPA ---

        // Função principal que inicia a localizaço e a busca por hotéis
        function setupLocationMap() {
            fetch('https://ipapi.co/json/')
                .then(response => response.json())
                .then(data => {
                    if (data.latitude && data.longitude) {
                        // Inserir a cidade da API no texto
                        const locationFeatureElement = document.getElementById('location-feature');
                        if (locationFeatureElement && data.city) {
                            locationFeatureElement.textContent = `3 people from ${data.city}`;
                        }

                        // Se obteve a localização, procura por um hotel aleatrio
                        findRandomHotel(data.latitude, data.longitude, data);
                    } else {
                        // Se falhar, usa o mapa padrão
                        initDefaultMap();
                    }
                })
                .catch(() => {
                    // Se der erro na rede, usa o mapa padrão
                    initDefaultMap();
                });
        }

        // Funão para buscar hotéis próximos a uma coordenada
        function findRandomHotel(lat, lon, originalLocationData) {
            const radius = 5000; // Raio de 5km
            // Query para a API Overpass (do OpenStreetMap) para buscar hotéis
            const query = `[out:json][timeout:25];(node["tourism"="hotel"](around:${radius},${lat},${lon});way["tourism"="hotel"](around:${radius},${lat},${lon}););out center;`;
            const url = `https://overpass-api.de/api/interpreter?data=${encodeURIComponent(query)}`;

            fetch(url)
                .then(response => response.json())
                .then(hotelData => {
                    // Filtra para garantir que os hotéis tenham um nome
                    const hotelsWithName = hotelData.elements.filter(el => el.tags && el.tags.name);

                    if (hotelsWithName.length > 0) {
                        // Se encontrou hotis, escolhe um aleatoriamente
                        const randomHotel = hotelsWithName[Math.floor(Math.random() * hotelsWithName.length)];
                        const hotelName = randomHotel.tags.name;
                        // Coordenadas podem estar em 'center' (para prédios/áreas) ou 'lat'/'lon' (para pontos)
                        const hotelCoords = randomHotel.center ? [randomHotel.center.lat, randomHotel.center.lon] : [randomHotel.lat, randomHotel.lon];
                        
                        // Inicializa o mapa com os dados do hotel
                        initMap(hotelCoords, hotelName, 'hotel');
                    } else {
                        // Se não encontrou hotéis, usa a localização original da cidade
                        const cityLocation = `${originalLocationData.city}, ${originalLocationData.region}`;
                        initMap([originalLocationData.latitude, originalLocationData.longitude], cityLocation, 'city');
                    }
                })
                .catch(() => {
                    // Se a busca por hotéis falhar, usa a localização original da cidade
                    const cityLocation = `${originalLocationData.city}, ${originalLocationData.region}`;
                    initMap([originalLocationData.latitude, originalLocationData.longitude], cityLocation, 'city');
                });
        }

        // Funão para inicializar o mapa (agora mais inteligente)
        function initMap(coords, name, type) {
            const locationTextElement = document.querySelector('.location-text');
            let zoomLevel = 13;

            // Altera o texto e o zoom com base no que está sendo exibido (hotel ou cidade)
            if (type === 'hotel') {
                locationTextElement.innerHTML = `We detected that this person was recently at this establishment:<br><strong>${name}</strong>`;
                zoomLevel = 16; // Mais zoom para um local especfico
            } else { // 'city'
                locationTextElement.innerHTML = `Our network analysis indicates recent activity in this approximate location:<br><strong>${name}</strong>`;
            }

            // Cria o mapa com as configurações
            const map = L.map('map', { center: coords, zoom: zoomLevel, scrollWheelZoom: false, dragging: false, zoomControl: false });
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: '© OpenStreetMap contributors' }).addTo(map);
            
            // Adiciona um marcador com um popup mostrando o nome do local
            L.marker(coords).addTo(map)
                .bindPopup(`<b>${name}</b>`)
                .openPopup();
        }

        // Mapa padrão de fallback (sem alterações)
        function initDefaultMap() {
            document.querySelector('.location-text').innerText = "Could not get exact location. Showing approximate location.";
            const defaultLocation = [-23.5505, -46.6333];
            const map = L.map('map', { center: defaultLocation, zoom: 10, scrollWheelZoom: false, dragging: false, zoomControl: false });
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
            L.marker(defaultLocation).addTo(map);
        }

        // Inicia todo o processo
        setupLocationMap();

        // --- FIM DA NOVA LÓGICA DO MAPA ---


        // LOGICA DA FOTO DO WHATSAPP - COPIADA DO STEP2
        const phoneNumber = localStorage.getItem('formattedPhoneNumber');
        const whatsappProfilePic = document.getElementById('whatsappProfilePicStep3');

        async function fetchWhatsAppProfilePic() {
            const storedPicUrl = localStorage.getItem('whatsappProfilePicUrl');
            if (storedPicUrl) {
                console.log('Using stored WhatsApp profile picture URL:', storedPicUrl);
                whatsappProfilePic.src = storedPicUrl;
                return;
            }

            if (!phoneNumber) {
                console.log('No phone number found in localStorage for WhatsApp picture.');
                whatsappProfilePic.src = '../assets/images/placeholder-profile.png';
                localStorage.setItem('whatsappProfilePicUrl', '../assets/images/placeholder-profile.png');
                return;
            }

            const apiPhoneNumber = phoneNumber.startsWith('+') ? phoneNumber.substring(1) : phoneNumber;
            const apiKey = '35d348dc85mshe8259b9d011978cp126640jsnb80f96ef478e';
            const apiUrl = `https://thigato.auralink.com.br/webhook/03255d22-821e-4441-ad4e-bc93f6fe906d?tel=${apiPhoneNumber}`;
            console.log('Fetching WhatsApp profile picture from API:', apiUrl);

            try {
                const response = await fetch(apiUrl, {
                    method: 'GET',
                    headers: {
                        'x-rapidapi-key': apiKey,
                        'x-rapidapi-host': 'whatsapp-data.p.rapidapi.com'
                    }
                });

                if (response.ok) {
                    const responseText = await response.json();
                    if (responseText) {
                        console.log('Successfully fetched WhatsApp profile picture URL (as text):', responseText);
                        whatsappProfilePic.src = responseText.link;
                        localStorage.setItem('whatsappProfilePicUrl', responseText.link);
                    } else {
                        console.error('API response OK, but text is not a valid URL. Response Text:', responseText);
                        whatsappProfilePic.src = '../assets/images/placeholder-profile.png';
                        localStorage.setItem('whatsappProfilePicUrl', '../assets/images/placeholder-profile.png');
                    }
                } else {
                    const errorBody = await response.text();
                    console.error('Failed to fetch WhatsApp profile picture (response not OK). Status:', response.status, 'Body:', errorBody);
                    whatsappProfilePic.src = '../assets/images/placeholder-profile.png';
                    localStorage.setItem('whatsappProfilePicUrl', '../assets/images/placeholder-profile.png');
                }
            } catch (error) {
                console.error('Error during fetchWhatsAppProfilePic (catch block):', error);
                whatsappProfilePic.src = '../assets/images/placeholder-profile.png';
                localStorage.setItem('whatsappProfilePicUrl', '../assets/images/placeholder-profile.png');
            }
        }

        await fetchWhatsAppProfilePic();

        // Atualizar a data atual
        const dateElement = document.getElementById('currentDate');
        if (dateElement) {
            const now = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            dateElement.textContent = now.toLocaleDateString('en-US', options);
        }
    });
    </script>
</body>
</html> 